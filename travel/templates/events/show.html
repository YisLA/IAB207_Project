<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="{{ url_for('static', filename='stylesheets/Event_Details.css') }}" rel="stylesheet" type="text/css">

    <title>Game Glory</title>
    <style>
      .h1 {
        font-size: 600px;
        color: white;
        font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        font-weight: bold;
      }

      body {
        margin: 0;
        padding: 0;
        background-image: url(http://m.gettywallpapers.com/wp-content/uploads/2023/12/Full-Black-4k-Wallpaper-For-Desktop.jpg);
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
      }

      .container-box {
        max-width: 300px; /* Limit the width of the box */
        border: 2px solid white; /* White border */
        border-radius: 15px; /* Rounded corners */
        padding: 20px; /* Padding around the content */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Subtle shadow effect */
        background-color: #f9f9f9; /* Light gray background color */
        text-align: center; /* Center align content */
        margin: 0 auto; /* Center the box horizontally */
      }

      .container-box p {
        margin-top: 0; /* Remove top margin for the paragraph */
      }

      .container-box button {
        display: block; /* Make the button a block element */
        margin: 20px auto 0; /* Center the button */
        padding: 10px 20px; /* Add padding to the button */
        border: none; /* Remove button border */
        border-radius: 5px; /* Rounded button corners */
        background-color: black; /* Black button background */
        color: white; /* White button text color */
        font-size: 16px; /* Button text size */
        cursor: pointer; /* Add pointer cursor on hover */
        transition: background-color 0.3s; /* Smooth transition for hover effect */
      }

      .container-box button:hover {
        background-color: blue; /* Blue background on hover */
      }

      .image-container {
        border-radius: 15px; /* Rounded corners */
        overflow: hidden; /* Ensure image stays within rounded container */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Add shadow effect */
      }

      .image-container img {
        display: block; /* Make the image a block element */
        width: 100%; /* Ensure image fills the container */
      }

      .container1 {
        background-color: white;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        max-width: 300px; /* Adjust the width as needed */
        margin: 0 auto; /* Center the box horizontally */
      }

      .rounded-box {
        background-color: #f0f0f0; /* Set background color */
        border-radius: 100px; /* Set border radius */
        padding: 10px 20px; /* Set padding */
        display: inline-block; /* Display as inline block to fit content */
      }

      .container-box1 {
        background-image: url(https://wallpapers.com/images/hd/sports-balls-in-4k-4tcqtsgp899vx4f4.jpg);
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .input-group1 {
        width: 150px;
        margin-right: 20px;
      }

      .form-control1 {
        border-radius: 4px;
        font-size: 14px;
      }

      .input-group-text1 {
        background-color: black;
        color: white;
        border: none;
        border-radius: 4px 0 0 4px;
      }

      .input-group-text1,
      .form-control1 {
        height: 40px;
      }

      .input-group-append button {
        border: none;
        border-radius: 4px;
        padding: 10px 20px;
        font-size: 16px;
        background-color: black;
        color: #fff;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .input-group-append button:hover {
        background-color: #0056b3;
      }

      p {
        margin: 0;
      }
    </style>
  </head>
  <body>
    {% extends "base.html" %}
    {% from 'bootstrap5/form.html' import render_form %}
    {% block content %}
    <main>
        <div class="container-fluid">
            <div class="row">
              <div class="col-sm-12 col-lg-6">
                <div class="image-container">
                    <img src="{{ event.image }}" alt="{{ event.name }}">
                </div>
              </div>
              <div style="text-align:center; color: white; font-family: Georgia, 'Times New Roman', Times, serif;" class="col-sm-12 col-lg-6">
                <div style="font-family: 'Brush Script MT', cursive; font-size: 70px; text-align:center; color: white;">
                  <p>{{ event.name }}</p>
                </div>
                <h5>{{ event.date }}</h5>
                <div style="padding: 60px;"></div>
                <div style="color: white;" class="container-box1">
                  <form method="POST" action="{{ url_for('main.book_event', event_id=event.id) }}">
                    <div class="row mb-3 align-items-center">
                      <div class="col text-start">
                        <label for="ticketInput1" class="form-label">Tickets:</label>
                        <input type="number" id="ticketInput1" class="form-control" name="number_of_tickets" value="1" min="1">
                      </div>
                      <div class="col text-center">
                        <div style="color: red;">
                          <p>${{ event.ticket_price }}</p>
                        </div>
                      </div>
                      <div class="col text-end">
                        <button style=" border-color: black; color: white; background-color: black;" type="submit" class="btn btn-primary">
                          GetTickets
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
              
              <style>
                .container-box1 {
                  background-color: white;
                  padding: 20px;
                  border-radius: 8px;
                  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                  margin-top: 20px;
                }
                .form-label {
                  margin-bottom: 0.5rem;
                  font-weight: bold;
                }
                .form-control {
                  width: 100%;
                  display: inline-block;
                  border-radius: 4px;
                  padding: 10px;
                  border: 1px solid #ced4da;
                }
                .btn-primary {
                  padding: 5px 50px;
                }
              </style>
              
        
                
                
                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 style="color: black;" class="modal-title" id="exampleModalLabel">Get Tickets</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div style="color: black;" class="modal-body">
                        Get your Tickets now
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Proceed to Payment</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div style="color: white; font-family: Georgia, 'Times New Roman', Times, serif;" class="col-sm-12 col-lg-6">
                <div class="container">
                  <div>
                    <h3>Date and time</h3>
                  </div>
                  <div style="color: white; font-family: Georgia, 'Times New Roman', Times, serif;">
                    <i class="Icon_root__1kdkz Icon_icon-small__1kdkz date-info__icon" aria-hidden="true">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#3A3247" viewBox="0 0 24 24">
                        <path d="M17 11h2V6h-2V4h-2v2H9V4H7v2H5v13h6v-2H7v-7h10zm0 1c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4m-.6 5.9 2.9-2.9-.9-.9-2.1 2.1-.7-.8-.8.8z" clip-rule="evenodd"></path>
                      </svg>
                    </i>
                    <div>
                      <div>
                        <span>{{ event.date }} {{ event.time }}</span>
                        <div style="padding: 30px;"></div>
                        <div>
                          <h3>Refund Policy</h3>
                        </div>
                        <div>
                          <p>Refunds are available upon request.</p>
                          <p>Please contact the organizer for assistance.</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div style="padding-left: 80px; color: white; font-family: Georgia, 'Times New Roman', Times, serif;" class="col-sm-12 col-lg-6">
                <div>
                  <div>
                    <h3>Location</h3>
                  </div>
                  <p>{{ event.venue }}</p>
                  <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3539.717211992904!2d153.0269863746695!3d-27.47806191706115!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6b915ba7ddde13bf%3A0x8484178191d26b6c!2sQUT%20Sport%20Fitness%20%26%20Aquatic%20Centre%20-%20Gardens%20Point!5e0!3m2!1sen!2sau!4v1713924597162!5m2!1sen!2sau" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
              </div>
            </div>
            <div style="padding: 50px;" class="row">
              <div style="color: white; font-family: Georgia, 'Times New Roman', Times, serif;" class="col-sm-12 col-lg-6">
                <div>
                  <h3>About this event</h3>
                </div>
                <p>{{ event.description }}</p>
              </div>
              <div style="padding: 70px; color: white; font-family: Georgia, 'Times New Roman', Times, serif;" class="col-sm-12 col-lg-6">
                <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                  <div class="carousel-inner">
                    <div class="carousel-item active">
                      <img src="{{ url_for('static', filename='images/event_2.jpeg') }}" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                      <img src="{{ url_for('static', filename='images/event_1.jpeg') }}" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                      <img src="{{ url_for('static', filename='images/event_3.jpeg') }}" class="d-block w-100" alt="...">
                    </div>
                  </div>
                  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                  </button>
                  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                  </button>
                </div>
              </div>
            </div>
            <!-- Comments Section -->
            <div style="padding: 50px;" class="row">
              <div class="col-12">
                <h2 style="color: white; font-family: 'Arial Black', Gadget, sans-serif; text-align: center;">Comments</h2>
                <div class="comment-form-container">
                  <form method="post" action="/events/{{ event.id }}/comment">
                    {{ form.hidden_tag() }}
                    <div class="form-group">
                      {{ form.text.label(class="form-label text-white") }}
                      {{ form.text(class="form-control", rows=3, placeholder="Enter your comment...") }}
                    </div>
                    <button type="submit" class="btn btn-primary mt-2">Create</button>
                  </form>
                </div>
                {% for comment in event.comments %}
                <div class="comment-box">
                  <div class="comment-header">
                    <div class="user-info">
                      <img src="https://via.placeholder.com/50" alt="User Avatar" class="user-avatar">
                      <b>{{ comment.user.name }}</b>
                      <span class="ml-2 text-muted" style="color: lightgrey !important;">{{ comment.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</span>
                      </div>
                    <div class="comment-actions">
                      <button class="btn btn-outline-success btn-sm like-button"><i class="fas fa-thumbs-up"></i> Like</button>
                    </div>
                  </div>
                  <p>{{ comment.text }}</p>
                </div>
                {% endfor %}
              </div>
            </div>
            
            <style>
              .comment-form-container {
                background-color: #2d3436;
                padding: 20px;
                border-radius: 10px;
                margin-bottom: 20px;
              }
            
              .comment-box {
                background: linear-gradient(145deg, #1e272e, #485460);
                color: #f5f6fa;
                padding: 20px;
                margin-bottom: 20px;
                border: 2px solid #0a3d62;
                border-radius: 15px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
                position: relative;
                overflow: hidden;
              }
            
              .comment-box::before, .comment-box::after {
                content: '';
                position: absolute;
                top: -2px;
                right: -2px;
                bottom: -2px;
                left: -2px;
                z-index: -1;
                background: linear-gradient(45deg, #4cd137, #0097e6, #8c7ae6);
                background-size: 400% 400%;
                animation: animate-border 15s ease infinite;
                border-radius: 15px;
                filter: blur(10px);
              }
            
              .comment-box::after {
                filter: blur(20px);
              }
            
              @keyframes animate-border {
                0% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
                100% { background-position: 0% 50%; }
              }
            
              .comment-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 10px;
              }
            
              .user-info {
                display: flex;
                align-items: center;
              }
            
              .user-avatar {
                width: 50px;
                height: 50px;
                border-radius: 50%;
                margin-right: 10px;
              }
            
              .comment-header h5 {
                margin: 0;
                font-weight: bold;
                color: #44bd32;
              }
            
              .comment-header .text-muted {
                font-size: 12px;
                color: #dcdde1;
                margin-left: 10px;
              }
            
              .comment-box p {
                color: #dcdde1;
              }
            
              .comment-actions {
                display: flex;
                gap: 10px;
              }
            
              .comment-actions .btn {
                font-size: 14px;
                padding: 5px 10px;
              }
            
              .comment-actions .btn-outline-success {
                border-color: #44bd32;
                color: #44bd32;
              }
            
              .comment-actions .btn-outline-success:hover {
                background-color: #44bd32;
                color: #fff;
              }
            </style>
            
            <script>
              document.querySelectorAll('.like-button').forEach(button => {
                button.addEventListener('click', () => {
                  alert('You liked this comment!');
                });
              });
            </script>
            
          </main>
        {% endblock %}
    </body>
</html>

